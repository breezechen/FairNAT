# ----------------------------------------------------------------------------
# File:        fairnat.config
# Description: Configuration file for the fairnat.sh Script
#              You can do all the basic stuff here.
# ----------------------------------------------------------------------------

# --- LAN & Clients ---

# Specify the network device which is connected with your clients.
# The script assumes that this device has one static IP.
DEV_LAN=eth1

# Please tell me how fast your local area network is in kbit/s.
# It must be higher than your internet connection speed.
#
# If your internet connection is the same speed as your LAN, use
# a higher value here anyway - collisions between download and
# local traffic can't be avoided then.
#
# Default is 2000kbit == 2MBit. Please keep in mind that even on
# a 10Mbit/100MBit LAN you rarely can use the full rate (because
# of overhead, collisions, etc.).
RATE_LAN=2000

# Specify the clients for which we do Masquerading and Shaping.
# The script assumes that all clients have static IPs in the
# same subnet as your LAN device.
#
# Example: If the IP of DEV_LAN is 192.168.100.42, the line above
#          means that 192.168.100.2, 192.168.100.5, etc., are
#          the IPs of your clients.
#          6:23:25 is a group of 3 IPs that all belong to the same user.
#          Use this notation if a single person has more than one machine
#          /IP connected to the router.
USERS="2 5 6:23:25 183"

# If you have clients which need certain port (ranges) to be forwarded,
# specify them here. The format is "client port client port ...".
# The example below will forward ports 4000-6999 to 192.168.100.2 and
# ports 2000-3999 to 192.168.100.183.
PORTS="2 4000:6999 183 2000:3999"
# PORTS="" # this disables port forwarding.

# --- Internet ---

# Specify the network device that is connected to the internet.
# If you are a dialup user, you have to re-run the script every
# time you redial.
DEV_NET=ppp0

# Specify the upload speed of your internet connection in kbit/s.
# Since ISPs tend to overestimate the speeds they offer, it would
# probably be best if you measure this on a free line.
RATE_UP=128          # 128 kbit (common value for DSL in germany)

# Specify the download speed of your internet connection in kbit/s.
# Same as RATE_UP, you probably should measure this.
RATE_DOWN=768        # 768 kbit (common value for DSL in germany)

# In order to prevent traffic queuing at the ISP side or in your modem,
# we shape to a slightly lower rate. This way the bottleneck is the router,
# not the ISP or modem, which allows us more direct control of shaping.
# Per default, we sub 5% of bandwidth for this. If you do not have the
# bottleneck problem, set it to 0.
RATE_SUB_PERCENT=5

# How much % of the bandwidth should be allowed for the router?
# Use a minimum of 1 here. The router needs bandwidth for DNS caching
# (recommended), and services like FTP and Web (not recommended).
# If you use a too high value, your users will starve.
# If you use a too low value, your router will starve :-)
RATE_LOCAL_PERCENT=5

# --- Support for IPP2P (Experimental) ---

# If you want to use IPP2P (marking & tracking P2P connections), set to 1.
# To use IPP2P, you need a patched kernel and iptables.
# Learn more about IPP2P here:
#     http://rnvs.informatik.uni-leipzig.de/ipp2p/index_en.html (english)
#  or http://rnvs.informatik.uni-leipzig.de/ipp2p/index.html    (german)
IPP2P_ENABLE=0

# If P2P traffic should be forbidden in general, set to 1.
# Otherwise P2P will be allowed with lowest priority.
# This only has an effect if IPP2P_ENABLE=1
IPP2P_DROP_ALL=0

# Tell us which options to use for IPP2P:
# Default: Cover all P2P protocols.
# See IPP2P documentation for details.
IPP2P_OPTIONS="--ipp2p --apple --bit"

# --- Binaries ---

# For this script, you need a tc-tool that supports HTB.
# It's usually called tc-htb. At least that's the case on my machine :-P
# If yours is different, you get 'tc-htb: unknown command' or similar,
# change this setting.
BIN_TC=`which tc-htb`
# BIN_TC=`which tc`         use this if your binary is called tc
# BIN_TC="/root/bin/my_tc"  or set the full path directly like this.

# All binarys used by Fair NAT can be configured like BIN_TC above:
#
# BIN_IPT:        iptables (with support for HTB and probably IPP2P)
# BIN_TC:         tc (with support for HTB, see above)
# BIN_IFC:        ifconfig
# BIN_GREP:       grep
# BIN_SED:        sed
# BIN_ECHO:       echo
# BIN_MODPROBE    modprobe
#
# If you don't specify these, the first binary found in your PATH
# will be used.

# ----------------------------------------------------------------------------
